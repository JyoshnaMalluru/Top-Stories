<style>
  .navbar {
    position: fixed;
    top: 0;
    z-index: 1000; 
    background-color: #f8f9fa;
    border-bottom: 1px solid #dee2e6;
  }
  .navbar{
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }
</style>
<nav class="navbar bg-body-tertiary fixed-top">
    <div class="container-fluid">
      <a class="navbar-brand" href="/">
        <h1 class="d-inline-block align-text-top"><i class="fa-solid fa-newspaper"></i>&nbsp;Top Stories</h1>
     </a>
      <form class="d-flex ms-auto" role="search" id="searchForm">
        <input class="form-control me-2" id="searchBar" type="search" placeholder="NewsPaper" aria-label="Search">
        <select id="categorySelect" class="form-select me-2">
          <option value="">All</option>
          <option value="business">Business</option>
          <option value="entertainment">Entertainment</option>
          <option value="health">Health</option>
          <option value="science">Science</option>
          <option value="sports">Sports</option>
          <option value="technology">Technology</option>
        </select>
        <button class="btn btn-secondary me-3" type="submit">Search</button>
      </form> 
      <a class="btn btn-outline-secondary me-2" href="/bookmarks">View Bookmarks</a>
      <button class="btn btn-outline-dark" onclick="toggleDarkMode()">ðŸŒ“</button>
    </div>
  </nav>
  <script>
      const form = document.getElementById('searchForm');
      const searchBar = document.getElementById('searchBar');
      const categorySelect = document.getElementById('categorySelect');

      searchBar.value = localStorage.getItem("lastSearch") || "";
      categorySelect.value = localStorage.getItem("lastCategory") || "";

      form.addEventListener('submit', (event) => {
        event.preventDefault();
        const searchQuery = searchBar.value.trim();
        const category = categorySelect.value;

        localStorage.setItem("lastSearch", searchQuery);
        localStorage.setItem("lastCategory", category);

        let url = '/';
        if (searchQuery && category) url += `${searchQuery}?category=${category}`;
        else if (searchQuery) url += `${searchQuery}`;
        else if (category) url += `category/${category}`;


        form.action = url;
        form.submit();
      });

      function toggleDarkMode() {
        document.body.classList.toggle("dark-mode");
        localStorage.setItem("darkMode", document.body.classList.contains("dark-mode"));
      }

      window.onload = () => {
        if (localStorage.getItem("darkMode") === "true") {
          document.body.classList.add("dark-mode");
        }
      };
</script>
